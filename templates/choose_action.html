{% extends "layout.html" %}
{% block content %}
<div class="container">
    <h1 style="text-align:center; color:#e64a19;">ğŸ“¸ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†ï¼</h1>
    <p style="text-align:center;">ä»¥ä¸‹ã®ç”»åƒã‹ã‚‰ä½•ã‚’ã—ãŸã„ã§ã™ã‹ï¼Ÿ</p>
    <div style="text-align:center;">
        <img src="{{ image_path }}" alt="ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒ" style="max-width: 400px; border: 3px solid #ff7043; border-radius: 10px;">
    </div>

    <div style="margin-top: 30px; display: flex; justify-content: center; gap: 20px;">
        <form action="{{ url_for('check_expiration') }}" method="POST">
            <input type="hidden" name="filename" value="{{ filename }}">
            <button type="submit" class="recipe-button">ğŸ¥• è³å‘³æœŸé™ãƒ»æ¶ˆè²»æœŸé™ã‚’è¦‹ã‚‹</button>
        </form>

        <form action="{{ url_for('generate_recipes_from_image') }}" method="POST">
            <input type="hidden" name="filename" value="{{ filename }}">
            <button type="submit" class="recipe-button">ğŸ³ ãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆã™ã‚‹</button>
        </form>
    </div>
</div>
{% endblock %}

{% for recipe in recipes %}
  <div class="recipe-box">
    <h2>{{ recipe.title }}</h2>
    <p><strong>ææ–™ï¼š</strong><br>{{ recipe.ingredients|safe }}</p>
    <p><strong>ä½œã‚Šæ–¹ï¼š</strong><br>{{ recipe.method|safe }}</p>

    <form action="{{ url_for('save_recipe') }}" method="POST">
      <input type="hidden" name="title" value="{{ recipe.title }}">
      <input type="hidden" name="ingredients" value="{{ recipe.ingredients }}">
      <input type="hidden" name="method" value="{{ recipe.method }}">
      <input type="hidden" name="ingredients_part" value="{{ recipe.ingredients_part }}">
      <input type="hidden" name="method_part" value="{{ recipe.method_part }}">
      <button type="submit">ã“ã®ãƒ¬ã‚·ãƒ”ã‚’ä¿å­˜ã™ã‚‹</button>
    </form>
  </div>
{% endfor %}
